
=================================================================
==21059==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 174 byte(s) in 2 object(s) allocated from:
    #0 0x7f6f0d617add in operator new[](unsigned long) (/usr/lib/llvm-14/lib/clang/14.0.0/lib/linux/libclang_rt.asan-x86_64.so+0xdbadd) (BuildId: a6105a816e63299474c1078329a59ed80f244fbf)
    #1 0x7f6f0190e7d9 in dawn::native::AdapterBase::APIGetProperties(dawn::native::AdapterProperties*) const /home/leu/Documents/projects/fyp/dawn/src/dawn/native/Adapter.cpp:204:17
    #2 0x7f6f018f5d91 in dawn::native::Adapter::GetProperties(WGPUAdapterProperties*) const /home/leu/Documents/projects/fyp/dawn/src/dawn/native/DawnNative.cpp:101:19
    #3 0x7f6f013ab33b in wgpu::binding::GPUAdapter::getIsFallbackAdapter(Napi::Env) /home/leu/Documents/projects/fyp/dawn/src/dawn/node/binding/GPUAdapter.cpp:125:14
    #4 0x7f6f0171d779 in wgpu::interop::(anonymous namespace)::Wrappers::WGPUAdapter::getIsFallbackAdapter(Napi::CallbackInfo const&) /home/leu/Documents/projects/fyp/dawn/out/asan/gen/node/src/dawn/node/interop/WebGPU.cpp:2786:37
    #5 0x7f6f01725703 in Napi::InstanceWrap<wgpu::interop::(anonymous namespace)::Wrappers::WGPUAdapter>::InstanceGetterCallbackWrapper(napi_env__*, napi_callback_info__*)::'lambda'()::operator()() const /home/leu/Documents/projects/fyp/dawn/third_party/node-addon-api/napi-inl.h:4389:23
    #6 0x7f6f017250ee in napi_value__* Napi::details::WrapCallback<Napi::InstanceWrap<wgpu::interop::(anonymous namespace)::Wrappers::WGPUAdapter>::InstanceGetterCallbackWrapper(napi_env__*, napi_callback_info__*)::'lambda'()>(Napi::InstanceWrap<wgpu::interop::(anonymous namespace)::Wrappers::WGPUAdapter>::InstanceGetterCallbackWrapper(napi_env__*, napi_callback_info__*)::'lambda'()) /home/leu/Documents/projects/fyp/dawn/third_party/node-addon-api/napi-inl.h:87:10
    #7 0x7f6f01723c2c in Napi::InstanceWrap<wgpu::interop::(anonymous namespace)::Wrappers::WGPUAdapter>::InstanceGetterCallbackWrapper(napi_env__*, napi_callback_info__*) /home/leu/Documents/projects/fyp/dawn/third_party/node-addon-api/napi-inl.h:4382:10
    #8 0x5565931f401c in v8impl::(anonymous namespace)::FunctionCallbackWrapper::Invoke(v8::FunctionCallbackInfo<v8::Value> const&) js_native_api_v8.cc
    #9 0x556533d4eadc  (<unknown module>)
    #10 0x556533d5ac59  (<unknown module>)
    #11 0x556533ebcaed  (<unknown module>)
    #12 0x556533d4cf17  (<unknown module>)
    #13 0x556533d89e42  (<unknown module>)
    #14 0x556533e561b0  (<unknown module>)
    #15 0x556533d774e7  (<unknown module>)
    #16 0x556533d4aa42  (<unknown module>)
    #17 0x5565935ca025 in v8::internal::(anonymous namespace)::Invoke(v8::internal::Isolate*, v8::internal::(anonymous namespace)::InvokeParams const&) execution.cc
    #18 0x5565935cae1f in v8::internal::(anonymous namespace)::InvokeWithTryCatch(v8::internal::Isolate*, v8::internal::(anonymous namespace)::InvokeParams const&) execution.cc
    #19 0x5565935cb0d7 in v8::internal::Execution::TryRunMicrotasks(v8::internal::Isolate*, v8::internal::MicrotaskQueue*) (/home/linuxbrew/.linuxbrew/Cellar/node/21.7.3/bin/node+0xdcb0d7) (BuildId: 0d36d9e07656c1b6a4dd9a2b03ac478fb98b3e5f)
    #20 0x5565935f9a16 in v8::internal::MicrotaskQueue::RunMicrotasks(v8::internal::Isolate*) (/home/linuxbrew/.linuxbrew/Cellar/node/21.7.3/bin/node+0xdf9a16) (BuildId: 0d36d9e07656c1b6a4dd9a2b03ac478fb98b3e5f)
    #21 0x5565935f9d82 in v8::internal::MicrotaskQueue::PerformCheckpointInternal(v8::Isolate*) (/home/linuxbrew/.linuxbrew/Cellar/node/21.7.3/bin/node+0xdf9d82) (BuildId: 0d36d9e07656c1b6a4dd9a2b03ac478fb98b3e5f)
    #22 0x55659316c9a3 in node::InternalCallbackScope::Close() (/home/linuxbrew/.linuxbrew/Cellar/node/21.7.3/bin/node+0x96c9a3) (BuildId: 0d36d9e07656c1b6a4dd9a2b03ac478fb98b3e5f)
    #23 0x55659316cbc4 in node::InternalCallbackScope::~InternalCallbackScope() (/home/linuxbrew/.linuxbrew/Cellar/node/21.7.3/bin/node+0x96cbc4) (BuildId: 0d36d9e07656c1b6a4dd9a2b03ac478fb98b3e5f)
    #24 0x55659320f10a in node::StartExecution(node::Environment*, std::function<v8::MaybeLocal<v8::Value> (node::StartExecutionCallbackInfo const&)>) (/home/linuxbrew/.linuxbrew/Cellar/node/21.7.3/bin/node+0xa0f10a) (BuildId: 0d36d9e07656c1b6a4dd9a2b03ac478fb98b3e5f)
    #25 0x556593171d37 in node::LoadEnvironment(node::Environment*, std::function<v8::MaybeLocal<v8::Value> (node::StartExecutionCallbackInfo const&)>) (/home/linuxbrew/.linuxbrew/Cellar/node/21.7.3/bin/node+0x971d37) (BuildId: 0d36d9e07656c1b6a4dd9a2b03ac478fb98b3e5f)
    #26 0x5565932bc52b in node::NodeMainInstance::Run(node::ExitCode*, node::Environment*) (.part.0) node_main_instance.cc
    #27 0x5565932bcfb3 in node::NodeMainInstance::Run() (/home/linuxbrew/.linuxbrew/Cellar/node/21.7.3/bin/node+0xabcfb3) (BuildId: 0d36d9e07656c1b6a4dd9a2b03ac478fb98b3e5f)
    #28 0x556593213dc4 in node::Start(int, char**) (/home/linuxbrew/.linuxbrew/Cellar/node/21.7.3/bin/node+0xa13dc4) (BuildId: 0d36d9e07656c1b6a4dd9a2b03ac478fb98b3e5f)
    #29 0x7f6f0c16cd8f in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16

Direct leak of 174 byte(s) in 2 object(s) allocated from:
    #0 0x7f6f0d617add in operator new[](unsigned long) (/usr/lib/llvm-14/lib/clang/14.0.0/lib/linux/libclang_rt.asan-x86_64.so+0xdbadd) (BuildId: a6105a816e63299474c1078329a59ed80f244fbf)
    #1 0x7f6f0190d812 in dawn::native::AdapterBase::APIGetInfo(dawn::native::AdapterInfo*) const /home/leu/Documents/projects/fyp/dawn/src/dawn/native/Adapter.cpp:132:17
    #2 0x7f6f018f5d01 in dawn::native::Adapter::GetInfo(WGPUAdapterInfo*) const /home/leu/Documents/projects/fyp/dawn/src/dawn/native/DawnNative.cpp:93:19
    #3 0x7f6f013ab047 in wgpu::binding::GPUAdapter::getInfo(Napi::Env) /home/leu/Documents/projects/fyp/dawn/src/dawn/node/binding/GPUAdapter.cpp:118:14
    #4 0x7f6f01535b13 in wgpu::interop::GPUAdapter::Bind(Napi::Env, std::unique_ptr<wgpu::interop::GPUAdapter, std::default_delete<wgpu::interop::GPUAdapter> >&&) /home/leu/Documents/projects/fyp/dawn/out/asan/gen/node/src/dawn/node/interop/WebGPU.cpp:9435:38
    #5 0x7f6f01396ba5 in wgpu::interop::Interface<wgpu::interop::GPUAdapter> wgpu::interop::GPUAdapter::Create<wgpu::binding::GPUAdapter, dawn::native::Adapter&, wgpu::binding::Flags const&, std::shared_ptr<wgpu::binding::AsyncRunner>&>(Napi::Env, dawn::native::Adapter&, wgpu::binding::Flags const&, std::shared_ptr<wgpu::binding::AsyncRunner>&) /home/leu/Documents/projects/fyp/dawn/out/asan/gen/node/src/dawn/node/interop/WebGPU.h:2760:12
    #6 0x7f6f0139206b in wgpu::binding::GPU::requestAdapter(Napi::Env, wgpu::interop::GPURequestAdapterOptions) /home/leu/Documents/projects/fyp/dawn/src/dawn/node/binding/GPU.cpp:262:23
    #7 0x7f6f0173bc61 in wgpu::interop::(anonymous namespace)::Wrappers::WGPU::requestAdapterInner(Napi::CallbackInfo const&) /home/leu/Documents/projects/fyp/dawn/out/asan/gen/node/src/dawn/node/interop/WebGPU.cpp:2845:31
    #8 0x7f6f0173b551 in wgpu::interop::(anonymous namespace)::Wrappers::WGPU::requestAdapter(Napi::CallbackInfo const&)::'lambda'()::operator()() const /home/leu/Documents/projects/fyp/dawn/out/asan/gen/node/src/dawn/node/interop/WebGPU.cpp:2834:75
    #9 0x7f6f0173b066 in Napi::Value wgpu::interop::CatchExceptionIntoPromise<wgpu::interop::(anonymous namespace)::Wrappers::WGPU::requestAdapter(Napi::CallbackInfo const&)::'lambda'()>(Napi::Env, wgpu::interop::(anonymous namespace)::Wrappers::WGPU::requestAdapter(Napi::CallbackInfo const&)::'lambda'()&&) /home/leu/Documents/projects/fyp/dawn/src/dawn/node/interop/Core.h:814:26
    #10 0x7f6f017321d1 in wgpu::interop::(anonymous namespace)::Wrappers::WGPU::requestAdapter(Napi::CallbackInfo const&) /home/leu/Documents/projects/fyp/dawn/out/asan/gen/node/src/dawn/node/interop/WebGPU.cpp:2834:14
    #11 0x7f6f01739a83 in Napi::InstanceWrap<wgpu::interop::(anonymous namespace)::Wrappers::WGPU>::InstanceMethodCallbackWrapper(napi_env__*, napi_callback_info__*)::'lambda'()::operator()() const /home/leu/Documents/projects/fyp/dawn/third_party/node-addon-api/napi-inl.h:4375:23
    #12 0x7f6f0173946e in napi_value__* Napi::details::WrapCallback<Napi::InstanceWrap<wgpu::interop::(anonymous namespace)::Wrappers::WGPU>::InstanceMethodCallbackWrapper(napi_env__*, napi_callback_info__*)::'lambda'()>(Napi::InstanceWrap<wgpu::interop::(anonymous namespace)::Wrappers::WGPU>::InstanceMethodCallbackWrapper(napi_env__*, napi_callback_info__*)::'lambda'()) /home/leu/Documents/projects/fyp/dawn/third_party/node-addon-api/napi-inl.h:87:10
    #13 0x7f6f017385fc in Napi::InstanceWrap<wgpu::interop::(anonymous namespace)::Wrappers::WGPU>::InstanceMethodCallbackWrapper(napi_env__*, napi_callback_info__*) /home/leu/Documents/projects/fyp/dawn/third_party/node-addon-api/napi-inl.h:4368:10
    #14 0x5565931f401c in v8impl::(anonymous namespace)::FunctionCallbackWrapper::Invoke(v8::FunctionCallbackInfo<v8::Value> const&) js_native_api_v8.cc
    #15 0x556533d4eadc  (<unknown module>)
    #16 0x556533d4cf17  (<unknown module>)
    #17 0x556533d89e42  (<unknown module>)
    #18 0x556533e561b0  (<unknown module>)
    #19 0x556533d774e7  (<unknown module>)
    #20 0x556533d4aa42  (<unknown module>)
    #21 0x5565935ca025 in v8::internal::(anonymous namespace)::Invoke(v8::internal::Isolate*, v8::internal::(anonymous namespace)::InvokeParams const&) execution.cc
    #22 0x5565935cae1f in v8::internal::(anonymous namespace)::InvokeWithTryCatch(v8::internal::Isolate*, v8::internal::(anonymous namespace)::InvokeParams const&) execution.cc
    #23 0x5565935cb0d7 in v8::internal::Execution::TryRunMicrotasks(v8::internal::Isolate*, v8::internal::MicrotaskQueue*) (/home/linuxbrew/.linuxbrew/Cellar/node/21.7.3/bin/node+0xdcb0d7) (BuildId: 0d36d9e07656c1b6a4dd9a2b03ac478fb98b3e5f)
    #24 0x5565935f9a16 in v8::internal::MicrotaskQueue::RunMicrotasks(v8::internal::Isolate*) (/home/linuxbrew/.linuxbrew/Cellar/node/21.7.3/bin/node+0xdf9a16) (BuildId: 0d36d9e07656c1b6a4dd9a2b03ac478fb98b3e5f)
    #25 0x5565935f9d82 in v8::internal::MicrotaskQueue::PerformCheckpointInternal(v8::Isolate*) (/home/linuxbrew/.linuxbrew/Cellar/node/21.7.3/bin/node+0xdf9d82) (BuildId: 0d36d9e07656c1b6a4dd9a2b03ac478fb98b3e5f)
    #26 0x55659316c9a3 in node::InternalCallbackScope::Close() (/home/linuxbrew/.linuxbrew/Cellar/node/21.7.3/bin/node+0x96c9a3) (BuildId: 0d36d9e07656c1b6a4dd9a2b03ac478fb98b3e5f)
    #27 0x55659316cbc4 in node::InternalCallbackScope::~InternalCallbackScope() (/home/linuxbrew/.linuxbrew/Cellar/node/21.7.3/bin/node+0x96cbc4) (BuildId: 0d36d9e07656c1b6a4dd9a2b03ac478fb98b3e5f)
    #28 0x55659320f10a in node::StartExecution(node::Environment*, std::function<v8::MaybeLocal<v8::Value> (node::StartExecutionCallbackInfo const&)>) (/home/linuxbrew/.linuxbrew/Cellar/node/21.7.3/bin/node+0xa0f10a) (BuildId: 0d36d9e07656c1b6a4dd9a2b03ac478fb98b3e5f)
    #29 0x556593171d37 in node::LoadEnvironment(node::Environment*, std::function<v8::MaybeLocal<v8::Value> (node::StartExecutionCallbackInfo const&)>) (/home/linuxbrew/.linuxbrew/Cellar/node/21.7.3/bin/node+0x971d37) (BuildId: 0d36d9e07656c1b6a4dd9a2b03ac478fb98b3e5f)

Direct leak of 128 byte(s) in 1 object(s) allocated from:
    #0 0x7f6f0d609c16 in realloc (/usr/lib/llvm-14/lib/clang/14.0.0/lib/linux/libclang_rt.asan-x86_64.so+0xcdc16) (BuildId: a6105a816e63299474c1078329a59ed80f244fbf)
    #1 0x7f6ef3db8448  (<unknown module>)

Direct leak of 128 byte(s) in 1 object(s) allocated from:
    #0 0x7f6f0d609c16 in realloc (/usr/lib/llvm-14/lib/clang/14.0.0/lib/linux/libclang_rt.asan-x86_64.so+0xcdc16) (BuildId: a6105a816e63299474c1078329a59ed80f244fbf)
    #1 0x7f6efe418ca8  (<unknown module>)

Direct leak of 87 byte(s) in 1 object(s) allocated from:
    #0 0x7f6f0d617add in operator new[](unsigned long) (/usr/lib/llvm-14/lib/clang/14.0.0/lib/linux/libclang_rt.asan-x86_64.so+0xdbadd) (BuildId: a6105a816e63299474c1078329a59ed80f244fbf)
    #1 0x7f6f0190d812 in dawn::native::AdapterBase::APIGetInfo(dawn::native::AdapterInfo*) const /home/leu/Documents/projects/fyp/dawn/src/dawn/native/Adapter.cpp:132:17
    #2 0x7f6f018f5d01 in dawn::native::Adapter::GetInfo(WGPUAdapterInfo*) const /home/leu/Documents/projects/fyp/dawn/src/dawn/native/DawnNative.cpp:93:19
    #3 0x7f6f013ab047 in wgpu::binding::GPUAdapter::getInfo(Napi::Env) /home/leu/Documents/projects/fyp/dawn/src/dawn/node/binding/GPUAdapter.cpp:118:14
    #4 0x7f6f01535b13 in wgpu::interop::GPUAdapter::Bind(Napi::Env, std::unique_ptr<wgpu::interop::GPUAdapter, std::default_delete<wgpu::interop::GPUAdapter> >&&) /home/leu/Documents/projects/fyp/dawn/out/asan/gen/node/src/dawn/node/interop/WebGPU.cpp:9435:38
    #5 0x7f6f01396ba5 in wgpu::interop::Interface<wgpu::interop::GPUAdapter> wgpu::interop::GPUAdapter::Create<wgpu::binding::GPUAdapter, dawn::native::Adapter&, wgpu::binding::Flags const&, std::shared_ptr<wgpu::binding::AsyncRunner>&>(Napi::Env, dawn::native::Adapter&, wgpu::binding::Flags const&, std::shared_ptr<wgpu::binding::AsyncRunner>&) /home/leu/Documents/projects/fyp/dawn/out/asan/gen/node/src/dawn/node/interop/WebGPU.h:2760:12
    #6 0x7f6f0139206b in wgpu::binding::GPU::requestAdapter(Napi::Env, wgpu::interop::GPURequestAdapterOptions) /home/leu/Documents/projects/fyp/dawn/src/dawn/node/binding/GPU.cpp:262:23
    #7 0x7f6f0173bc61 in wgpu::interop::(anonymous namespace)::Wrappers::WGPU::requestAdapterInner(Napi::CallbackInfo const&) /home/leu/Documents/projects/fyp/dawn/out/asan/gen/node/src/dawn/node/interop/WebGPU.cpp:2845:31
    #8 0x7f6f0173b551 in wgpu::interop::(anonymous namespace)::Wrappers::WGPU::requestAdapter(Napi::CallbackInfo const&)::'lambda'()::operator()() const /home/leu/Documents/projects/fyp/dawn/out/asan/gen/node/src/dawn/node/interop/WebGPU.cpp:2834:75
    #9 0x7f6f0173b066 in Napi::Value wgpu::interop::CatchExceptionIntoPromise<wgpu::interop::(anonymous namespace)::Wrappers::WGPU::requestAdapter(Napi::CallbackInfo const&)::'lambda'()>(Napi::Env, wgpu::interop::(anonymous namespace)::Wrappers::WGPU::requestAdapter(Napi::CallbackInfo const&)::'lambda'()&&) /home/leu/Documents/projects/fyp/dawn/src/dawn/node/interop/Core.h:814:26
    #10 0x7f6f017321d1 in wgpu::interop::(anonymous namespace)::Wrappers::WGPU::requestAdapter(Napi::CallbackInfo const&) /home/leu/Documents/projects/fyp/dawn/out/asan/gen/node/src/dawn/node/interop/WebGPU.cpp:2834:14
    #11 0x7f6f01739a83 in Napi::InstanceWrap<wgpu::interop::(anonymous namespace)::Wrappers::WGPU>::InstanceMethodCallbackWrapper(napi_env__*, napi_callback_info__*)::'lambda'()::operator()() const /home/leu/Documents/projects/fyp/dawn/third_party/node-addon-api/napi-inl.h:4375:23
    #12 0x7f6f0173946e in napi_value__* Napi::details::WrapCallback<Napi::InstanceWrap<wgpu::interop::(anonymous namespace)::Wrappers::WGPU>::InstanceMethodCallbackWrapper(napi_env__*, napi_callback_info__*)::'lambda'()>(Napi::InstanceWrap<wgpu::interop::(anonymous namespace)::Wrappers::WGPU>::InstanceMethodCallbackWrapper(napi_env__*, napi_callback_info__*)::'lambda'()) /home/leu/Documents/projects/fyp/dawn/third_party/node-addon-api/napi-inl.h:87:10
    #13 0x7f6f017385fc in Napi::InstanceWrap<wgpu::interop::(anonymous namespace)::Wrappers::WGPU>::InstanceMethodCallbackWrapper(napi_env__*, napi_callback_info__*) /home/leu/Documents/projects/fyp/dawn/third_party/node-addon-api/napi-inl.h:4368:10
    #14 0x5565931f401c in v8impl::(anonymous namespace)::FunctionCallbackWrapper::Invoke(v8::FunctionCallbackInfo<v8::Value> const&) js_native_api_v8.cc
    #15 0x556533d4eadc  (<unknown module>)
    #16 0x556533d4cf17  (<unknown module>)
    #17 0x556533d4cf17  (<unknown module>)
    #18 0x556533d4cf17  (<unknown module>)
    #19 0x556533d4cf17  (<unknown module>)
    #20 0x556533d4cf17  (<unknown module>)
    #21 0x556533d4cf17  (<unknown module>)
    #22 0x556533d4cf17  (<unknown module>)
    #23 0x556533d4cf17  (<unknown module>)
    #24 0x556533d4ab1b  (<unknown module>)
    #25 0x556533d4a842  (<unknown module>)
    #26 0x5565935c9dfa in v8::internal::(anonymous namespace)::Invoke(v8::internal::Isolate*, v8::internal::(anonymous namespace)::InvokeParams const&) execution.cc
    #27 0x5565935caba1 in v8::internal::Execution::Call(v8::internal::Isolate*, v8::internal::Handle<v8::internal::Object>, v8::internal::Handle<v8::internal::Object>, int, v8::internal::Handle<v8::internal::Object>*) (/home/linuxbrew/.linuxbrew/Cellar/node/21.7.3/bin/node+0xdcaba1) (BuildId: 0d36d9e07656c1b6a4dd9a2b03ac478fb98b3e5f)
    #28 0x556593495bd6 in v8::Object::CallAsFunction(v8::Local<v8::Context>, v8::Local<v8::Value>, int, v8::Local<v8::Value>*) (/home/linuxbrew/.linuxbrew/Cellar/node/21.7.3/bin/node+0xc95bd6) (BuildId: 0d36d9e07656c1b6a4dd9a2b03ac478fb98b3e5f)
    #29 0x55659323724d in node::builtins::BuiltinLoader::CompileAndCall(v8::Local<v8::Context>, char const*, node::Realm*) (/home/linuxbrew/.linuxbrew/Cellar/node/21.7.3/bin/node+0xa3724d) (BuildId: 0d36d9e07656c1b6a4dd9a2b03ac478fb98b3e5f)

SUMMARY: AddressSanitizer: 691 byte(s) leaked in 7 allocation(s).
